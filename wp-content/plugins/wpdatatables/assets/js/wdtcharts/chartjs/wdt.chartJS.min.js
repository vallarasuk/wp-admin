var wpDataTablesChartJS=function(){return{container:"#chart-js-container",canvas:"#chart-js-canvas",columnIndexes:[],connectedWPDataTable:null,renderCallback:null,chart:null,pieCharts:["chartjs_polar_area_chart","chartjs_pie_chart","chartjs_doughnut_chart"],setContainer:function(t){this.container=t},setCanvas:function(t){this.canvas=t},setContainerOptions:function(t){0==t.container.width?this.container.style.width=null:this.container.style.width=t.container.width+"px",this.container.style.height=t.container.height+"px",this.canvas.style.backgroundColor=t.canvas.backgroundColor,this.canvas.style.border=t.canvas.borderWidth+"px solid "+t.canvas.borderColor,this.canvas.style.borderRadius=t.canvas.borderRadius+"px"},setRenderCallback:function(t){this.renderCallback=t},globalOptions:{},options:{data:{},options:{scales:{x:{title:{display:!0}},y:{title:{display:!0},beginAtZero:!1}},plugins:{title:{text:"",display:!0,position:"top",font:{size:16},color:"#666"},legend:{display:!0,labels:{font:{fontSize:12},color:"#666",boxWidth:40}},tooltip:{enabled:!0,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFont:{size:12,weight:"bold"},titleColor:"#fff",bodyFont:{size:12,style:"normal"},caretSize:5,cornerRadius:6}},maintainAspectRatio:!1}},setOptions:function(t){for(var s in t)for(var o in t[s])o&&(this.options.options[s][o]=t[s][o])},setGlobalOptions:function(t){for(var s in t)t[s]&&(this.globalOptions[s]=t[s])},setData:function(t){for(var s in t)this.options.data[s]=t[s]},getOptions:function(){return this.options},render:function(){for(var t in null!==this.renderCallback&&this.renderCallback(this),this.globalOptions)Chart.defaults[t]=this.globalOptions[t];this.chart=new Chart(this.canvas,this.options)},setType:function(t){switch(t){case"chartjs_line_chart":Chart.defaults.elements.line.fill=!1,this.options.type="line";break;case"chartjs_area_chart":Chart.defaults.elements.line.fill=!0,this.options.type="line";break;case"chartjs_stacked_area_chart":Chart.defaults.elements.line.fill=!0,this.options.type="line",this.options.options.scales.y.stacked=!0;break;case"chartjs_column_chart":Chart.defaults.elements.line.fill=!0,this.options.type="bar";break;case"chartjs_stacked_column_chart":Chart.defaults.elements.line.fill=!0,this.options.type="bar",this.options.options.scales.y.stacked=!0,this.options.options.scales.x.stacked=!0;break;case"chartjs_bar_chart":Chart.defaults.elements.line.fill=!0,this.options.type="bar",this.options.options.indexAxis="y";break;case"chartjs_stacked_bar_chart":Chart.defaults.elements.line.fill=!0,this.options.type="bar",this.options.options.scales.y.stacked=!0,this.options.options.scales.x.stacked=!0,this.options.options.indexAxis="y";break;case"chartjs_radar_chart":Chart.defaults.elements.line.fill=!0,this.options.type="radar";break;case"chartjs_polar_area_chart":this.options.type="polarArea";break;case"chartjs_pie_chart":this.options.type="pie";break;case"chartjs_doughnut_chart":this.options.type="doughnut";break;case"chartjs_bubble_chart":this.options.type="bubble"}},setColumnIndexes:function(t){this.columnIndexes=t},setConnectedWPDataTable:function(t){this.connectedWPDataTable=t},setGrouping:function(t){this.group_chart=t},setChartConfig:function(t){if(1==t.responsive_width?this.container.style.width=null:(this.container.style.width=t.width+"px",this.options.options.maintainAspectRatio=!1),t.height&&(this.container.style.height=t.height+"px"),this.canvas.style.backgroundColor=t.background_color,this.canvas.style.border=t.border_width+"px solid "+t.border_color,t.border_radius&&(this.canvas.style.borderRadius=t.border_radius+"px"),t.font_size?(this.globalOptions.font.size=parseInt(t.font_size),this.options.options.plugins.legend.labels.font.size=parseInt(t.font_size),this.options.options.plugins.title.font.size=parseInt(t.font_size),this.options.options.scales.x.ticks.font.size=parseInt(t.font_size),("chartjs_radar_chart"==t.type||"chartjs_polar_area_chart"==t.type)&&(this.options.options.scales.r.ticks.font.size=parseInt(t.font_size),this.options.options.scales.r.pointLabels.font.size=parseInt(t.font_size)),this.options.options.scales.y.ticks.font.size=parseInt(t.font_size),this.options.options.scales.x.title.font.size=parseInt(t.font_size),this.options.options.scales.y.title.font.size=parseInt(t.font_size)):(this.globalOptions.font.size=12,this.options.options.plugins.legend.labels.font.size=12,("chartjs_radar_chart"==t.type||"chartjs_polar_area_chart"==t.type)&&(this.options.options.scales.r.ticks.font.size=12,this.options.options.scales.r.pointLabels.font.size=12),this.options.options.plugins.title.font.size=12,this.options.options.scales.x.ticks.font.size=12,this.options.options.scales.y.ticks.font.size=12,this.options.options.scales.x.title.font.size=12,this.options.options.scales.y.title.font.size=12),t.font_name?(this.globalOptions.font.family=t.font_name,this.options.options.plugins.legend.labels.font.family=t.font_name,this.options.options.scales.x.title.font.family=t.font_name,this.options.options.scales.y.title.font.family=t.font_name,this.options.options.scales.x.ticks.font.family=t.font_name,this.options.options.scales.y.ticks.font.family=t.font_name,("chartjs_radar_chart"==t.type||"chartjs_polar_area_chart"==t.type)&&(this.options.options.scales.r.ticks.font.family=t.font_name,this.options.options.scales.r.pointLabels.font.family=t.font_name)):(this.globalOptions.font.family="Arial",this.options.options.plugins.legend.labels.font.family="Arial",this.options.options.scales.x.ticks.font.family="Arial",this.options.options.scales.y.ticks.font.family="Arial",this.options.options.scales.y.title.font.family="Arial",this.options.options.scales.x.ticks.font.family="Arial",("chartjs_radar_chart"==t.type||"chartjs_polar_area_chart"==t.type)&&(this.options.options.scales.r.ticks.font.family="Arial",this.options.options.scales.r.pointLabels.font.family="Arial")),t.font_style?(this.options.options.plugins.legend.labels.font.style=t.font_style,this.options.options.scales.x.ticks.font.style=t.font_style,this.options.options.scales.y.ticks.font.style=t.font_style,this.options.options.scales.x.title.font.style=t.font_style,this.options.options.scales.y.title.font.style=t.font_style,("chartjs_radar_chart"==t.type||"chartjs_polar_area_chart"==t.type)&&(this.options.options.scales.r.ticks.font.style=t.font_style,this.options.options.scales.r.pointLabels.font.style=t.font_style)):(this.options.options.plugins.legend.labels.font.style="normal",this.options.options.scales.x.ticks.font.style="normal",this.options.options.scales.y.ticks.font.style="normal",this.options.options.scales.x.title.font.style="normal",this.options.options.scales.y.title.font.style="normal",("chartjs_radar_chart"==t.type||"chartjs_polar_area_chart"==t.type)&&(this.options.options.scales.r.ticks.font.style="normal",this.options.options.scales.r.pointLabels.font.style="normal")),t.font_weight?(this.options.options.plugins.legend.labels.font.weight=t.font_weight,this.options.options.scales.x.ticks.font.weight=t.font_weight,this.options.options.scales.y.ticks.font.weight=t.font_weight,this.options.options.scales.x.title.font.weight=t.font_weight,this.options.options.scales.y.title.font.weight=t.font_weight,("chartjs_radar_chart"==t.type||"chartjs_polar_area_chart"==t.type)&&(this.options.options.scales.r.ticks.font.weight=t.font_weight,this.options.options.scales.r.pointLabels.font.weight=t.font_weight)):(this.options.options.plugins.legend.labels.font.weight="bold",this.options.options.scales.x.ticks.font.weight="bold",this.options.options.scales.y.ticks.font.weight="bold",this.options.options.scales.x.title.font.weight="bold",this.options.options.scales.y.title.font.weight="bold",("chartjs_radar_chart"==t.type||"chartjs_polar_area_chart"==t.type)&&(this.options.options.scales.r.ticks.font.weight="bold",this.options.options.scales.r.pointLabels.font.weight="bold")),t.font_color?(this.globalOptions.color=t.font_color,this.options.options.plugins.legend.labels.color=t.font_color,this.options.options.scales.x.ticks.color=t.font_color,this.options.options.scales.y.ticks.color=t.font_color,this.options.options.scales.x.title.color=t.font_color,this.options.options.scales.y.title.color=t.font_color,("chartjs_radar_chart"==t.type||"chartjs_polar_area_chart"==t.type)&&(this.options.options.scales.r.ticks.color=t.font_color,this.options.options.scales.r.pointLabels.color=t.font_color)):(this.globalOptions.color="#666",this.options.options.plugins.legend.labels.color="#666",this.options.options.scales.x.ticks.color="#666",this.options.options.scales.y.ticks.color="#666",this.options.options.scales.x.title.color="#666",this.options.options.scales.y.title.color="#666",("chartjs_radar_chart"==t.type||"chartjs_polar_area_chart"==t.type)&&(this.options.options.scales.r.ticks.color="#666",this.options.options.scales.r.pointLabels.color="#666")),-1==this.pieCharts.indexOf(t.type)&&"chartjs_bubble_chart"!=t.type){var s=0;for(var o in t.series_data)this.options.data.datasets[s].label=t.series_data[o].label,t.series_data[o].color&&(this.options.data.datasets[s].borderColor=t.series_data[o].color),t.series_data[o].color&&(this.options.data.datasets[s].backgroundColor="rgba("+hexToRgb(t.series_data[o].color).r+", "+hexToRgb(t.series_data[o].color).g+", "+hexToRgb(t.series_data[o].color).b+", 0.2)"),s++;if(1==t.curve_type)for(o in this.options.data.datasets)this.options.data.datasets[o].lineTension=.4;else for(o in this.options.data.datasets)this.options.data.datasets[o].lineTension=0}0==t.show_grid?(this.options.options.scales.x.display=!1,this.options.options.scales.y.display=!1):(this.options.options.scales.x.display=!0,this.options.options.scales.y.display=!0),t.horizontal_axis_label&&(this.options.options.scales.x.title.text=t.horizontal_axis_label),t.vertical_axis_label&&(this.options.options.scales.y.title.text=t.vertical_axis_label),""!=t.vertical_axis_min?this.options.options.scales.y.min=parseInt(t.vertical_axis_min):["chartjs_pie_chart","chartjs_radar_chart","chartjs_doughnut_chart","chartjs_polar_area_chart","chartjs_bubble_chart"].includes(t.type)?(this.options.options.scales.y.beginAtZero=!0,this.options.options.scales.y.min=0):(this.options.options.scales.y.beginAtZero=!1,delete this.options.options.scales.y.min),""!=t.vertical_axis_max?this.options.options.scales.y.max=parseInt(t.vertical_axis_max):delete this.options.options.scales.y.max,1==t.show_title?(this.options.options.plugins.title.display=!0,this.options.options.plugins.title.text=t.title):this.options.options.plugins.title.display=!1,t.title_position&&(this.options.options.plugins.title.position=t.title_position),t.title_font_name&&(this.options.options.plugins.title.font.family=t.title_font_name),t.title_font_style?this.options.options.plugins.title.font.style=t.title_font_style.includes("italic")?"italic":"normal":this.options.options.plugins.title.font.style="normal",t.title_font_weight?this.options.options.plugins.title.font.weight=t.title_font_weight:this.options.options.plugins.title.font.wieght="bold",t.title_font_color?this.options.options.plugins.title.color=t.title_font_color:this.options.options.plugins.title.color="#666",1==t.tooltip_enabled?this.options.options.plugins.tooltip.enabled=!0:this.options.options.plugins.tooltip.enabled=!1,t.tooltip_background_color?this.options.options.plugins.tooltip.backgroundColor=t.tooltip_background_color:this.options.options.plugins.tooltip.backgroundColor="rgba(0,0,0,0.8)",t.tooltip_border_radius&&(this.options.options.plugins.tooltip.cornerRadius=parseInt(t.tooltip_border_radius)),1==t.tooltip_shared?this.options.options.plugins.tooltip.mode="index":(this.options.options.plugins.tooltip.mode="nearest",this.options.options.plugins.tooltip.intersect=!0),1==t.show_legend?this.options.options.plugins.legend.display=!0:this.options.options.plugins.legend.display=!1,t.legend_position_cjs&&(this.options.options.plugins.legend.position=t.legend_position_cjs)}}};